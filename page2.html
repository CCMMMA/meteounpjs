<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Meteo Uniparthenope</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
    <link rel="stylesheet" href="css/jquery-ui-timepicker-addon.min.css"/>
    <link rel="stylesheet" href="css/meteo-uniparthenope.css"/>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="js/jquery-ui-sliderAccess.js"></script>
    <script src="js/jquery-ui-timepicker-addon.min.js"></script>
    <script src="js/meteo-uniparthenope.js"></script>
    <style>
        .ui-autocomplete-loading {
            background: white url("images/ui-anim_basic_16x16.gif") right center no-repeat;
        }


    </style>
</head>
<body>
    <div id="container" style="background-color:#f00";>
        <table>
            <tr>
                <td width="64px" align="right" valign="top"><img id="leftBarImage" width="64px"/></td>
                <td><div id="plot"></div></td>
                <td width="64px" align="left" valign="top"><img id="rightBarImage" width="64px"/></td>
            </tr>
            <tr>
                <td></td>
                <td align="center" valign="top">
                    <img id="bottomBarImage"/></td>
                <td>

                </td>
            </tr>
        </table>
    </div>

    <script>
/*
        // global vars
        var winWidth = $(window).width();
        var winHeight = $(window).height();

        // set initial div height / width
        $('#container').css({
            'width': winWidth,
            'height': winHeight,
        });

        // make sure div stays full width/height on resize
        $(window).resize(function(){
            $('#container').css({
                'width': winWidth,
                'height': winHeight,
            });
            console.log(winWidth+","+winHeight);
        });
*/
        function getURLParameter(sParam, defaultValue) {

            var sPageURL = window.location.search.substring(1);

            var sURLVariables = sPageURL.split('&');

            for (var i = 0; i < sURLVariables.length; i++) {
                var sParameterName = sURLVariables[i].split('=');

                if (sParameterName[0] == sParam) {
                    return sParameterName[1];
                }
            }
            return defaultValue;
        }

        var plot=null;

        var _prod=getURLParameter("prod","wrf5");
        var _output=getURLParameter("output","gen");
        var _place=getURLParameter("place","it000");
        var _ncepDate=getURLParameter("date",null);

        $( document ).ready(function() {

            plot=$("#plot").MeteoUniparthenopePlot(_place,_prod,_output,_ncepDate,
                "topBarImage",
                "leftBarImage",
                "rightBarImage",
                "bottomBarImage");
        });

    </script>
</body>
</html>